# 🐸 祖玛 (Zuma) 网页版

这是一个使用原生 JavaScript (ES6+) 和 HTML5 Canvas 开发的经典祖玛风格网页游戏。项目结构清晰，无复杂框架依赖，适合学习游戏开发基础、Canvas 渲染以及简单的物理碰撞逻辑。

## ✨ 功能特性

*   **经典玩法**：控制青蛙发射彩球，匹配三个或以上同色球进行消除。
*   **螺旋轨道**：自动生成平滑的螺旋形游戏路径。
*   **物理球链**：实现球体之间的推挤、磁力牵引和空隙闭合效果。
*   **关卡系统**：随着关卡推进，球的移动速度和生成数量会逐渐增加。
*   **视觉特效**：霓虹风格的发光渲染，流畅的动画效果。
*   **完整流程**：包含开始界面、倒计时、游戏主循环、暂停、胜利和失败结算。

## 🛠️ 技术栈

*   **语言**: JavaScript (ES6 Modules)
*   **渲染**: HTML5 Canvas API (2D Context)
*   **构建工具**: Vite
*   **样式**: CSS3 (Flexbox, Animations)

## 📂 项目结构

```text
/Users/mac/Desktop/祖玛/
├── src/
│   ├── main.js            # 🚀 游戏入口，处理 DOM 交互和事件监听
│   ├── style.css          # 🎨 游戏样式和 UI 定义
│   └── game/              # 🎮 游戏核心逻辑目录
│       ├── Game.js        # 游戏主控类：协调各个模块，管理游戏循环
│       ├── BallChain.js   # 球链管理：处理球的移动、生成、消除和物理碰撞
│       ├── Shooter.js     # 发射器类：处理青蛙的瞄准、射击和冷却
│       ├── Path.js        # 路径生成：计算螺旋轨迹和坐标插值
│       └── Renderer.js    # 渲染器：负责将所有游戏元素绘制到 Canvas 上
├── index.html             # HTML 模板
├── package.json           # 项目依赖配置
└── README.md              # 项目文档
```

## 🚀 快速开始

### 1. 安装依赖

确保你已经安装了 [Node.js](https://nodejs.org/)。

```bash
npm install
# 或者使用 pnpm (推荐)
pnpm install
```

### 2. 启动开发服务器

```bash
npm run dev
# 或者
pnpm dev
```

启动后，浏览器通常会自动打开 `http://localhost:5173`。

### 3. 构建生产版本

```bash
npm run build
```

## 🧩 核心逻辑说明

### 1. 路径系统 (`Path.js`)
游戏使用数学公式生成螺旋线，并将路径离散化为一系列点。通过 `getPointAt(distance)` 方法，可以将一维的“路径距离”映射到二维的 `(x, y)` 坐标和切线角度，这是球链移动的基础。

### 2. 球链物理 (`BallChain.js`)
球链不是简单的数组移动。它被划分为多个“段” (Segments)。
*   **头部牵引**：每一段的头部球会“吸引”后一段的尾部球，模拟磁力闭合空隙的效果。
*   **推挤碰撞**：当新球插入或后球追上前球时，会强制推开重叠的球，防止穿模。
*   **消除检测**：使用双向搜索算法检测插入点附近的同色球数量。

### 3. 渲染系统 (`Renderer.js`)
使用 Canvas API 进行绘制。为了提升视觉效果，大量使用了 `shadowBlur` (阴影模糊) 来模拟发光效果，并使用径向渐变 (`createRadialGradient`) 让球体看起来更有立体感。

## 📝 许可证

MIT License
